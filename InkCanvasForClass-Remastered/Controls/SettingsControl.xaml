<UserControl
    x:Class="InkCanvasForClass_Remastered.Controls.SettingsControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:converters="clr-namespace:InkCanvasForClass_Remastered.Converters"
    xmlns:ui="http://schemas.inkore.net/lib/ui/wpf/modern"
    x:Name="root">
    <UserControl.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
        <converters:StringToVisibilityConverter x:Key="StringToVisibilityConverter" />
        <ui:ToggleSwitch
            x:Key="ToggleSwitch"
            IsOn="{Binding IsOn, ElementName=root, Mode=TwoWay}"
            OffContent=""
            OnContent="" />
    </UserControl.Resources>
    <StackPanel Orientation="Vertical">
        <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
            <TextBlock
                Margin="0,0,4,0"
                VerticalAlignment="Center"
                FontSize="14"
                Foreground="#fafafa"
                Text="{Binding Header, ElementName=root}"
                Visibility="{Binding Header, ElementName=root, Converter={StaticResource StringToVisibilityConverter}}" />
            <Border
                Height="20"
                Margin="2,0,0,0"
                Padding="4,0"
                VerticalAlignment="Center"
                Background="#7f1d1d"
                CornerRadius="3"
                Visibility="{Binding ShowExperimentLabel, ElementName=root, Converter={StaticResource BooleanToVisibilityConverter}}">
                <ui:IconAndText
                    Content="实验性选项"
                    FontSize="12"
                    Foreground="#fca5a5"
                    Icon="{x:Static ui:FluentSystemIcons.Beaker_16_Regular}"
                    Spacing="3" />
            </Border>
            <ContentPresenter Margin="12,0,0,0" Visibility="{Binding HasSwitcher, ElementName=root, Converter={StaticResource BooleanToVisibilityConverter}}">
                <ContentPresenter.Style>
                    <Style TargetType="ContentPresenter">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Switcher, ElementName=root}" Value="{x:Null}">
                                <Setter Property="Content" Value="{StaticResource ToggleSwitch}" />
                            </DataTrigger>
                        </Style.Triggers>
                        <Setter Property="Content" Value="{Binding Switcher, ElementName=root}" />
                    </Style>
                </ContentPresenter.Style>
            </ContentPresenter>
        </StackPanel>
        <TextBlock
            FontSize="12"
            Foreground="#a1a1aa"
            Text="{Binding Description, ElementName=root}"
            TextWrapping="Wrap"
            Visibility="{Binding Description, ElementName=root, Converter={StaticResource StringToVisibilityConverter}}" />
    </StackPanel>
</UserControl>